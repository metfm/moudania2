var gauges,ddimgtooltip;!function(e){"use strict";var a=e({});e.subscribe=function(){a.on.apply(a,arguments)},e.unsubscribe=function(){a.off.apply(a,arguments)},e.publish=function(){a.trigger.apply(a,arguments)}}(jQuery),gauges=function(){"use strict";var a,i,g,d,m,c,p,t,s,n,l,r,o,u,h,b,w,S,x,e,f,v,V,T,_,M,D,L,k,y,I,C,R,F,U,P,G,z,A,H,O,W,N,j,E,B,K,Y,Q,J,X,Z,q,ee,ae,te,ie,se,ne,le=LANG.GR,re={scriptVer:"2.7.2",weatherProgram:0,imgPathURL:"./images/",oldGauges:"gauges.htm",realtimeInterval:48,longPoll:!1,gaugeMobileScaling:.85,graphUpdateTime:15,stationTimeout:3,pageUpdateLimit:20,pageUpdatePswd:"its-me",digitalFont:!1,digitalForecast:!1,showPopupData:!0,showPopupGraphs:!0,mobileShowGraphs:!1,showWindVariation:!0,showWindMetar:!1,showIndoorTempHum:!0,showCloudGauge:!0,showUvGauge:!0,showSolarGauge:!0,showSunshineLed:!0,showRoseGauge:!0,showRoseGaugeOdo:!0,showRoseOnDirGauge:!0,showGaugeShadow:!0,roundCloudbaseVal:!0,realTimeUrlLongPoll:"realtimegauges-longpoll.php",realTimeUrlCumulus:"realtimegauges.txt",realTimeUrlWD:"customclientraw.txt",realTimeUrlVWS:"steelseriesVWSjson.php",realTimeUrlWC:"realtimegaugesWC.txt",realTimeUrlMB:"MBrealtimegauges.txt",realTimeUrlWView:"customclientraw.txt",realTimeUrlWeewx:"gauge-data.txt",realTimeUrlWLCOM:"WLrealtimegauges.php",useCookies:!0,tipImages:[],dashboardMode:!1,dewDisplayType:"app"},oe={minMaxArea:"rgba(212,132,134,0.3)",windAvgArea:"rgba(132,212,134,0.3)",windVariationSector:"rgba(120,200,120,0.7)",frameDesign:steelseries.FrameDesign.TILTED_BLACK,background:steelseries.BackgroundColor.BRUSHED_STAINLESS,foreground:steelseries.ForegroundType.TYPE1,pointer:steelseries.PointerType.TYPE16,pointerColour:steelseries.ColorDef.BLACK,dirAvgPointer:steelseries.PointerType.TYPE8,dirAvgPointerColour:steelseries.ColorDef.BLUE,gaugeType:steelseries.GaugeType.TYPE4,lcdColour:steelseries.LcdColor.GRAY,knob:steelseries.KnobType.STANDARD_KNOB,knobStyle:steelseries.KnobStyle.SILVER,labelFormat:steelseries.LabelNumberFormat.STANDARD,tickLabelOrientation:steelseries.TickLabelOrientation.HORIZONTAL,rainUseSectionColours:!1,rainUseGradientColours:!0,tempTrendVisible:!0,pressureTrendVisible:!0,uvLcdDecimals:1,sunshineThreshold:50,sunshineThresholdPct:75,tempScaleDefMinC:-20,tempScaleDefMaxC:40,tempScaleDefMinF:0,tempScaleDefMaxF:100,baroScaleDefMinhPa:990,baroScaleDefMaxhPa:1030,baroScaleDefMinkPa:99,baroScaleDefMaxkPa:103,baroScaleDefMininHg:29.2,baroScaleDefMaxinHg:30.4,windScaleDefMaxMph:20,windScaleDefMaxKts:20,windScaleDefMaxMs:10,windScaleDefMaxKmh:30,rainScaleDefMaxmm:10,rainScaleDefMaxIn:.5,rainRateScaleDefMaxmm:10,rainRateScaleDefMaxIn:.5,uvScaleDefMax:10,solarGaugeScaleMax:1e3,cloudScaleDefMaxft:3e3,cloudScaleDefMaxm:1e3,shadowColour:"rgba(0,0,0,0.3)"},ue={fullScaleDeflectionTime:4,gaugeType:oe.gaugeType,minValue:0,niceScale:!0,ledVisible:!1,frameDesign:oe.frameDesign,backgroundColor:oe.background,foregroundType:oe.foreground,pointerType:oe.pointer,pointerColor:oe.pointerColour,knobType:oe.knob,knobStyle:oe.knobStyle,lcdColor:oe.lcdColour,lcdDecimals:1,digitalFont:re.digitalFont,tickLabelOrientation:oe.tickLabelOrientation,labelNumberFormat:oe.labelFormat},ge=!0,de=!1,me={},ce=re.longPoll?Math.max(re.realtimeInterval-20,0):re.realtimeInterval,pe=0,he=null,be=null,we=['<a href="//sandaysoft.com/products/cumulus" target="_blank" rel="noopener">Cumulus</a>','<a href="//www.weather-display.com/" target="_blank" rel="noopener">Weather Display</a>','<a href="//www.ambientweather.com/virtualstation.html" target="_blank" rel="noopener">Virtual Weather Station</a>','<a href="//trixology.com/weathercat/" target="_blank" rel="noopener">WeatherCat</a>','<a href="//www.meteobridge.com/" target="_blank rel="noopener"">Meteobridge</a>','<a href="//www.wviewweather.com/" target="_blank" rel="noopener">Wview</a>','<a href="//www.weewx.com/" target="_blank" rel="noopener">weewx</a>','<a href="//weatherlink.com/" target="_blank" rel="noopener">Weatherlink.com</a>'],Se={getInstance:function(){return se||(se=function(){function e(e){$("#canvas_led").attr("title",e)}return $("#canvas_led").length&&(ne=new steelseries.Led("canvas_led",{ledColor:steelseries.LedColor.GREEN_LED,size:$("#canvas_led").width()}),e(le.led_title)),{setTitle:e,setLedColor:function(e){ne&&ne.setLedColor(e)},setLedOnOff:function(e){ne&&ne.setLedOnOff(e)},blink:function(e){ne&&ne.blink(e)}}}()),se}},xe={getInstance:function(){return te||($("#canvas_status").length&&(ie=new steelseries.DisplaySingle("canvas_status",{width:$("#canvas_status").width(),height:$("#canvas_status").height(),lcdColor:oe.lcdColour,unitStringVisible:!1,value:le.statusStr,digitalFont:re.digitalForecast,valuesNumeric:!1,autoScroll:!0,alwaysScroll:!1})),te={setText:function(e){ie&&ie.setValue(e)}}),te}},fe=(ae=1,{getInstance:function(){return q||($("#canvas_timer").length&&(ee=new steelseries.DisplaySingle("canvas_timer",{width:$("#canvas_timer").width(),height:$("#canvas_timer").height(),lcdColor:oe.lcdColour,lcdDecimals:0,unitString:le.timer,unitStringVisible:!0,digitalFont:re.digitalFont,value:ae}),$.subscribe("gauges.clockTick",function(){ee&&(ee.setValue(ae),ae+=re.longPoll?1:-1)})),q={reset:function(e){ae=e},setValue:function(e){ee&&ee.setValue(e)}}),q}}),ve=(Z={},{getInstance:function(){return J||(J=function(){var e=$.extend(!0,{},ue);if(Z.sections=Ae(!0),Z.areas=[],Z.minValue=oe.tempScaleDefMinC,Z.maxValue=oe.tempScaleDefMaxC,Z.title=le.temp_title_out,Z.value=oe.tempScaleDefMinC+1e-4,Z.maxMinVisible=!1,Z.selected="out",!$("#canvas_temp").length)return null;function a(){var e,a,t,i=Z.selected;if(1===arguments.length&&(i=arguments[0].value),Z.minValue="C"===me.tempunit[1]?oe.tempScaleDefMinC:oe.tempScaleDefMinF,Z.maxValue="C"===me.tempunit[1]?oe.tempScaleDefMaxC:oe.tempScaleDefMaxF,"out"===i?(Z.low=Be(me.tempTL),Z.high=Be(me.tempTH),Z.lowScale=Je(Z.minValue),Z.highScale=Xe(Z.maxValue),Z.value=Be(me.temp),Z.title=le.temp_title_out,Z.loc=le.temp_out_info,Z.trendVal=Be(me.temptrend),Z.popupImg=0,oe.tempTrendVisible&&(e=Ye(+Z.trendVal,me.tempunit,!1),Z.trend=-9999===e?steelseries.TrendState.OFF:0<e?steelseries.TrendState.UP:e<0?steelseries.TrendState.DOWN:steelseries.TrendState.STEADY)):(Z.title=le.temp_title_in,Z.loc=le.temp_in_info,Z.value=Be(me.intemp),Z.popupImg=1,me.intempTL&&me.intempTH?(Z.low=Be(me.intempTL),Z.high=Be(me.intempTH),Z.lowScale=Je(Z.minValue),Z.highScale=Xe(Z.maxValue)):(Z.low=Z.value,Z.lowScale=Z.value,Z.high=Z.value,Z.highScale=Z.value),oe.tempTrendVisible&&(Z.trend=steelseries.TrendState.OFF)),Z.selected!==i&&(Z.selected=i,X.setTitleString(Z.title),X.setMaxMeasuredValueVisible(Z.maxMinVisible),X.setMinMeasuredValueVisible(Z.maxMinVisible),re.showPopupGraphs&&null!==re.tipImgs[0][Z.popupImg])){var s="?"+$("#imgtip0_img").attr("src").split("?")[1];$("#imgtip0_img").attr("src",re.imgPathURL+re.tipImgs[0][Z.popupImg]+s)}for(a="C"===me.tempunit[1]?10:20;Z.lowScale<Z.minValue;)Z.minValue-=a,Z.highScale<=Z.maxValue-a&&(Z.maxValue-=a);for(;Z.highScale>Z.maxValue;)Z.maxValue+=a,Z.minValue>=Z.minValue+a&&(Z.minValue+=a);Z.minValue===X.getMinValue()&&Z.maxValue===X.getMaxValue()||(X.setMinValue(Z.minValue),X.setMaxValue(Z.maxValue),X.setValue(Z.minValue)),"out"===Z.selected?Z.areas=[steelseries.Section(+Z.low,+Z.high,oe.minMaxArea)]:me.intempTL&&me.intempTH?Z.areas=[steelseries.Section(+Z.low,+Z.high,oe.minMaxArea)]:Z.areas=[],oe.tempTrendVisible&&X.setTrend(Z.trend),X.setArea(Z.areas),X.setValueAnimated(+Z.value),ddimgtooltip.showTips&&("out"===Z.selected?(t=Z.loc+" - "+le.lowestF_info+": "+Z.low+me.tempunit+" "+le.at+" "+me.TtempTL+" | "+le.highestF_info+": "+Z.high+me.tempunit+" "+le.at+" "+me.TtempTH,-9999!==Z.trendVal&&(t+="<br>"+le.temp_trend_info+": "+Ye(Z.trendVal,me.tempunit,!0)+" "+Z.trendVal+me.tempunit+"/h")):t=me.TintempTL&&me.TintempTH?Z.loc+" - "+le.lowestF_info+": "+Z.low+me.tempunit+" "+le.at+" "+me.TintempTL+" | "+le.highestF_info+": "+Z.high+me.tempunit+" "+le.at+" "+me.TintempTH:Z.loc+": "+me.intemp+me.tempunit,$("#imgtip0_txt").html(t))}return e.size=Math.ceil($("#canvas_temp").width()*re.gaugeScaling),e.section=Z.sections,e.area=Z.areas,e.minValue=Z.minValue,e.maxValue=Z.maxValue,e.thresholdVisible=!1,e.minMeasuredValueVisible=Z.maxMinVisible,e.maxMeasuredValueVisible=Z.maxMinVisible,e.titleString=Z.title,e.unitString=me.tempunit,e.trendVisible=oe.tempTrendVisible,(X=new steelseries.Radial("canvas_temp",e)).setValue(Z.value),1!==re.gaugeScaling&&$("#canvas_temp").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_temp").css(Ra(e.size)),re.showIndoorTempHum||($("#rad_temp1").remove(),$("#lab_temp1").remove(),$("#rad_temp2").remove(),$("#lab_temp2").remove(),$("#rad_hum1").remove(),$("#lab_hum1").remove(),$("#rad_hum2").remove(),$("#lab_hum2").remove()),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[0][Z.popupImg]&&$("#imgtip0_img").attr("src",re.imgPathURL+re.tipImgs[0][Z.popupImg]+a)}),{data:Z,update:a,gauge:X}}()),J}}),Ve=(Q={},{getInstance:function(){return K||(K=function(){var e,a=$.extend(!0,{},ue);switch(Q.sections=Ae(!0),Q.areas=[],Q.minValue=oe.tempScaleDefMinC,Q.maxValue=oe.tempScaleDefMaxC,Q.value=oe.tempScaleDefMinC+1e-4,e=xa("dewGauge"),Q.selected=null!==e?e:re.dewDisplayType,fa("rad_dew",Q.selected),Q.selected){case"dew":Q.title=le.dew_title,Q.popupImg=0;break;case"app":Q.title=le.apptemp_title,Q.popupImg=1;break;case"wnd":Q.title=le.chill_title,Q.popupImg=2;break;case"hea":Q.title=le.heat_title,Q.popupImg=3;break;case"hum":Q.title=le.humdx_title,Q.popupImg=4}if(Q.minMeasuredVisible=!1,Q.maxMeasuredVisible=!1,!$("#canvas_dew").length)return null;function t(){var e,a,t=Q.selected;switch(1===arguments.length&&(t=arguments[0].value,Sa("dewGauge",t)),Q.minValue="C"===me.tempunit[1]?oe.tempScaleDefMinC:oe.tempScaleDefMinF,Q.maxValue="C"===me.tempunit[1]?oe.tempScaleDefMaxC:oe.tempScaleDefMaxF,Q.lowScale=Je(Q.minValue),Q.highScale=Xe(Q.maxValue),t){case"dew":Q.low=Be(me.dewpointTL),Q.high=Be(me.dewpointTH),Q.value=Be(me.dew),Q.areas=[steelseries.Section(+Q.low,+Q.high,oe.minMaxArea)],Q.title=le.dew_title,Q.minMeasuredVisible=!1,Q.maxMeasuredVisible=!1,Q.popupImg=0,e=le.dew_info+":<br>- "+le.lowest_info+": "+Q.low+me.tempunit+" "+le.at+" "+me.TdewpointTL+" | "+le.highest_info+": "+Q.high+me.tempunit+" "+le.at+" "+me.TdewpointTH;break;case"app":Q.low=Be(me.apptempTL),Q.high=Be(me.apptempTH),Q.value=Be(me.apptemp),Q.areas=[steelseries.Section(+Q.low,+Q.high,oe.minMaxArea)],Q.title=le.apptemp_title,Q.minMeasuredVisible=!1,Q.maxMeasuredVisible=!1,Q.popupImg=1,e=e=le.apptemp_info+":<br>- "+le.lowestF_info+": "+Q.low+me.tempunit+" "+le.at+" "+me.TapptempTL+" | "+le.highestF_info+": "+Q.high+me.tempunit+" "+le.at+" "+me.TapptempTH;break;case"wnd":Q.low=Be(me.wchillTL),Q.high=Be(me.wchill),Q.value=Be(me.wchill),Q.areas=[],Q.title=le.chill_title,Q.minMeasuredVisible=!0,Q.maxMeasuredVisible=!1,Q.popupImg=2,e=le.chill_info+":<br>- "+le.lowest_info+": "+Q.low+me.tempunit+" "+le.at+" "+me.TwchillTL;break;case"hea":Q.low=Be(me.heatindex),Q.high=Be(me.heatindexTH),Q.value=Be(me.heatindex),Q.areas=[],Q.title=le.heat_title,Q.minMeasuredVisible=!1,Q.maxMeasuredVisible=!0,Q.popupImg=3,e=le.heat_info+":<br>- "+le.highest_info+": "+Q.high+me.tempunit+" "+le.at+" "+me.TheatindexTH;break;case"hum":Q.low=Be(me.humidex),Q.high=Be(me.humidex),Q.value=Be(me.humidex),Q.areas=[],Q.title=le.humdx_title,Q.minMeasuredVisible=!1,Q.maxMeasuredVisible=!1,Q.popupImg=4,e=le.humdx_info+": "+Q.value+me.tempunit}if(Q.selected!==t&&(Q.selected=t,Y.setTitleString(Q.title),re.showPopupGraphs&&null!==re.tipImgs[1][Q.popupImg])){var i="?"+$("#imgtip1_img").attr("src").split("?")[1];$("#imgtip1_img").attr("src",re.imgPathURL+re.tipImgs[1][Q.popupImg]+i)}for(a="C"===me.tempunit[1]?10:20;Q.lowScale<Q.minValue;)Q.minValue-=a,Q.highScale<=Q.maxValue-a&&(Q.maxValue-=a);for(;Q.highScale>Q.maxValue;)Q.maxValue+=a,Q.minValue>=Q.minValue+a&&(Q.minValue+=a);Q.minValue===Y.getMinValue()&&Q.maxValue===Y.getMaxValue()||(Y.setMinValue(Q.minValue),Y.setMaxValue(Q.maxValue),Y.setValue(Q.minValue)),Y.setMinMeasuredValueVisible(Q.minMeasuredVisible),Y.setMaxMeasuredValueVisible(Q.maxMeasuredVisible),Y.setMinMeasuredValue(+Q.low),Y.setMaxMeasuredValue(+Q.high),Y.setArea(Q.areas),Y.setValueAnimated(+Q.value),ddimgtooltip.showTips&&$("#imgtip1_txt").html(e)}return a.size=Math.ceil($("#canvas_dew").width()*re.gaugeScaling),a.section=Q.sections,a.area=Q.areas,a.minValue=Q.minValue,a.maxValue=Q.maxValue,a.thresholdVisible=!1,a.titleString=Q.title,a.unitString=me.tempunit,(Y=new steelseries.Radial("canvas_dew",a)).setValue(Q.value),1!==re.gaugeScaling&&$("#canvas_dew").css({width:a.size+"px",height:a.size+"px"}),re.showGaugeShadow&&$("#canvas_dew").css(Ra(a.size)),$.subscribe("gauges.dataUpdated",t),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[1][Q.popupImg]&&$("#imgtip1_img").attr("src",re.imgPathURL+re.tipImgs[1][Q.popupImg]+a)}),{data:Q,update:t,gauge:Y}}()),K}}),Te=(B={},{getInstance:function(){return j||(j=function(){var e=$.extend(!0,{},ue);if(B.maxValue=oe.rainScaleDefMaxmm,B.value=1e-4,B.title=le.rain_title,B.lcdDecimals=1,B.scaleDecimals=1,B.labelNumberFormat=oe.labelFormat,B.sections=oe.rainUseSectionColours?Oe(!0):[],B.valGrad=oe.rainUseGradientColours?We(!0):null,!$("#canvas_rain").length)return null;function a(){B.value=Be(me.rfall),"mm"===me.rainunit?B.maxValue=Math.max(Ua(B.value,10),oe.rainScaleDefMaxmm):(B.value<=1?B.maxValue=Math.max(Ua(B.value,.5),oe.rainScaleDefMaxIn):B.value<=6?B.maxValue=Math.max(Ua(B.value,1),oe.rainScaleDefMaxIn):B.maxValue=Math.max(Ua(B.value,2),oe.rainScaleDefMaxIn),B.scaleDecimals=B.maxValue<1?2:1),B.maxValue!==E.getMaxValue()&&(E.setValue(0),E.setFractionalScaleDecimals(B.scaleDecimals),E.setMaxValue(B.maxValue)),E.setValueAnimated(B.value),ddimgtooltip.showTips&&$("#imgtip2_txt").html(le.LastRain_info+": "+me.LastRained)}return e.size=Math.ceil($("#canvas_rain").width()*re.gaugeScaling),e.maxValue=B.maxValue,e.thresholdVisible=!1,e.titleString=B.title,e.unitString=me.rainunit,e.valueColor=steelseries.ColorDef.BLUE,e.valueGradient=B.valGrad,e.useValueGradient=oe.rainUseGradientColours,e.useSectionColors=oe.rainUseSectionColour,e.useSectionColors=oe.rainUseSectionColours,e.labelNumberFormat=B.labelNumberFormat,e.fractionalScaleDecimals=B.scaleDecimals,e.niceScale=!1,(E=new steelseries.RadialBargraph("canvas_rain",e)).setValue(B.value),1!==re.gaugeScaling&&$("#canvas_rain").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_rain").css(Ra(e.size)),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[2]&&$("#imgtip2_img").attr("src",re.imgPathURL+re.tipImgs[2]+a)}),{data:B,update:a,gauge:E}}()),j}}),_e=(N={},{getInstance:function(){return O||(O=function(){var e=$.extend(!0,{},ue);if(N.maxMeasured=0,N.maxValue=oe.rainRateScaleDefMaxmm,N.value=1e-4,N.title=le.rrate_title,N.lcdDecimals=1,N.scaleDecimals=0,N.labelNumberFormat=oe.labelFormat,N.sections=He(!0),!$("#canvas_rrate").length)return null;function a(){var e;N.value=Be(me.rrate),N.maxMeasured=Be(me.rrateTM),N.overallMax=Math.max(N.maxMeasured,N.value),"mm"===me.rainunit?N.maxValue=Ua(N.overallMax,10):(N.overallMax<=.5?N.maxValue=.5:N.overallMax<=10?N.maxValue=Ua(N.overallMax,1):N.maxValue=Ua(N.overallMax,10),N.scaleDecimals=N.maxValue<1?2:N.maxValue<7?1:0),N.maxValue!==W.getMaxValue()&&(W.setValue(0),W.setFractionalScaleDecimals(N.scaleDecimals),W.setMaxValue(N.maxValue)),W.setValueAnimated(N.value),W.setMaxMeasuredValue(N.maxMeasured),ddimgtooltip.showTips&&(e=le.rrate_info+":<br>- "+le.maximum_info+": "+me.rrateTM+" "+me.rainunit+"/h "+le.at+" "+me.TrrateTM+" | "+le.max_hour_info+": "+Be(me.hourlyrainTH)+" "+me.rainunit+" "+le.at+" "+me.ThourlyrainTH,$("#imgtip3_txt").html(e))}return e.size=Math.ceil($("#canvas_rrate").width()*re.gaugeScaling),e.section=N.sections,e.maxValue=N.maxValue,e.thresholdVisible=!1,e.maxMeasuredValueVisible=!0,e.titleString=N.title,e.unitString=me.rainunit+"/h",e.lcdDecimals=N.lcdDecimals,e.labelNumberFormat=N.labelNumberFormat,e.fractionalScaleDecimals=N.scaleDecimals,e.niceScale=!1,(W=new steelseries.Radial("canvas_rrate",e)).setMaxMeasuredValue(N.maxMeasured),W.setValue(N.value),1!==re.gaugeScaling&&$("#canvas_rrate").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_rrate").css(Ra(e.size)),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[3]&&$("#imgtip3_img").attr("src",re.imgPathURL+re.tipImgs[3]+a)}),{data:N,update:a,gauge:W}}()),O}}),Me=(H={},{getInstance:function(){return z||(z=function(){var e=$.extend(!0,{},ue);if(H.areas=[],H.value=1e-4,H.title=le.hum_title_out,H.selected="out",!$("#canvas_hum").length)return null;function a(){var e;1===arguments.length&&(e=arguments[0]);var a,t=void 0===e?H.selected:e.value;if("out"===t?(H.value=Be(me.hum),H.areas=[steelseries.Section(+Be(me.humTL),+Be(me.humTH),oe.minMaxArea)],H.title=le.hum_title_out,H.popupImg=0):(H.value=Be(me.inhum),me.inhumTL&&me.inhumTH?H.areas=[steelseries.Section(+Be(me.inhumTL),+Be(me.inhumTH),oe.minMaxArea)]:H.areas=[],H.title=le.hum_title_in,H.popupImg=1),H.selected!==t&&(H.selected=t,A.setTitleString(H.title),re.showPopupGraphs&&null!==re.tipImgs[4][H.popupImg])){var i="?"+$("#imgtip4_img").attr("src").split("?")[1];$("#imgtip4_img").attr("src",re.imgPathURL+re.tipImgs[4][H.popupImg]+i)}A.setArea(H.areas),A.setValueAnimated(H.value),ddimgtooltip.showTips&&(a="out"===H.selected?le.hum_out_info+":<br>- "+le.minimum_info+": "+Be(me.humTL)+"% "+le.at+" "+me.ThumTL+" | "+le.maximum_info+": "+Be(me.humTH)+"% "+le.at+" "+me.ThumTH:me.inhumTL&&me.inhumTH?le.hum_in_info+":<br>- "+le.minimum_info+": "+Be(me.inhumTL)+"% "+le.at+" "+me.TinhumTL+" | "+le.maximum_info+": "+Be(me.inhumTH)+"% "+le.at+" "+me.TinhumTH:le.hum_in_info+": "+Be(me.inhum)+"%",$("#imgtip4_txt").html(a))}return e.size=Math.ceil($("#canvas_hum").width()*re.gaugeScaling),e.section=[steelseries.Section(0,20,"rgba(255,255,0,0.3)"),steelseries.Section(20,80,"rgba(0,255,0,0.3)"),steelseries.Section(80,100,"rgba(255,0,0,0.3)")],e.area=H.areas,e.maxValue=100,e.thresholdVisible=!1,e.titleString=H.title,e.unitString="RH%",(A=new steelseries.Radial("canvas_hum",e)).setValue(H.value),1!==re.gaugeScaling&&$("#canvas_hum").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_hum").css(Ra(e.size)),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[4][H.popupImg]&&$("#imgtip4_img").attr("src",re.imgPathURL+re.tipImgs[4][H.popupImg]+a)}),{data:H,update:a,gauge:A}}()),z}}),De=(G={},{getInstance:function(){return U||(U=function(){var e=$.extend(!0,{},ue);if(G.sections=[],G.areas=[],G.minValue=oe.baroScaleDefMinhPa,G.maxValue=oe.baroScaleDefMaxhPa,G.value=G.minValue+1e-4,G.title=le.baro_title,G.lcdDecimals=1,G.scaleDecimals=0,G.labelNumberFormat=oe.labelFormat,!$("#canvas_baro").length)return null;function a(){var e,a,t;G.recLow=+Be(me.pressL),G.recHigh=+Be(me.pressH),G.todayLow=+Be(me.pressTL),G.todayHigh=+Be(me.pressTH),G.value=+Be(me.press),G.trendVal=+Be(me.presstrendval)/(2===re.weatherProgram?3:1),"hPa"===me.pressunit||"mb"===me.pressunit?(G.minValue=Math.min(Pa(G.recLow-2,10),oe.baroScaleDefMinhPa),G.maxValue=Math.max(Ua(G.recHigh+2,10),oe.baroScaleDefMaxhPa),t=1):"kPa"===me.pressunit?(G.minValue=Math.min(Pa(G.recLow-.2,1),oe.baroScaleDefMinkPa),G.maxValue=Math.max(Ua(G.recHigh+.2,1),oe.baroScaleDefMaxkPa),t=2):(G.minValue=Math.min(Pa(G.recLow-.1,.5),oe.baroScaleDefMininHg),G.maxValue=Math.max(Ua(G.recHigh+.1,.5),oe.baroScaleDefMaxinHg),t=3),G.trendValRnd=G.trendVal.toFixed(t),G.todayLowRnd=G.todayLow.toFixed(t),G.todayHighRnd=G.todayHigh.toFixed(t),G.minValue===P.getMinValue()&&G.maxValue===P.getMaxValue()||(P.setMinValue(G.minValue),P.setMaxValue(G.maxValue),P.setValue(G.minValue)),G.recHigh===G.todayHigh&&G.recLow===G.todayLow?(G.sections=[],G.areas=[steelseries.Section(G.todayLow,G.todayHigh,oe.minMaxArea)]):(G.sections=[steelseries.Section(G.minValue,G.recLow,"rgba(255,0,0,0.5)"),steelseries.Section(G.recHigh,G.maxValue,"rgba(255,0,0,0.5)")],G.areas=[steelseries.Section(G.minValue,G.recLow,"rgba(255,0,0,0.5)"),steelseries.Section(G.recHigh,G.maxValue,"rgba(255,0,0,0.5)"),steelseries.Section(G.todayLow,G.todayHigh,oe.minMaxArea)]),oe.pressureTrendVisible&&(a=Qe(G.trendVal,me.pressunit,!1),G.trend=-9999===a?steelseries.TrendState.OFF:0<a?steelseries.TrendState.UP:a<0?steelseries.TrendState.DOWN:steelseries.TrendState.STEADY,P.setTrend(G.trend)),P.setArea(G.areas),P.setSection(G.sections),P.setValueAnimated(G.value),ddimgtooltip.showTips&&(e=le.baro_info+":<br>- "+le.minimum_info+": "+G.todayLowRnd+" "+me.pressunit+" "+le.at+" "+me.TpressTL+" | "+le.maximum_info+": "+G.todayHighRnd+" "+me.pressunit+" "+le.at+" "+me.TpressTH,-9999!==G.trendVal&&(e+="<br>- "+le.baro_trend_info+": "+Qe(G.trendVal,me.pressunit,!0)+" "+(0<G.trendValRnd?"+":"")+G.trendValRnd+" "+me.pressunit+"/h"),$("#imgtip5_txt").html(e))}return e.size=Math.ceil($("#canvas_baro").width()*re.gaugeScaling),e.section=G.sections,e.area=G.areas,e.minValue=G.minValue,e.maxValue=G.maxValue,e.niceScale=!1,e.thresholdVisible=!1,e.titleString=G.title,e.unitString=me.pressunit,e.lcdDecimals=G.lcdDecimals,e.trendVisible=oe.pressureTrendVisible,e.labelNumberFormat=G.labelNumberFormat,e.fractionalScaleDecimals=G.scaleDecimals,(P=new steelseries.Radial("canvas_baro",e)).setValue(G.value),1!==re.gaugeScaling&&$("#canvas_baro").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_baro").css(Ra(e.size)),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[5]&&$("#imgtip5_img").attr("src",re.imgPathURL+re.tipImgs[5]+a)}),{data:G,update:a,gauge:P}}()),U}}),Le=(F={},{getInstance:function(){return C||(C=function(){var e=$.extend(!0,{},ue);if(F.maxValue=oe.windScaleDefMaxKph,F.areas=[],F.maxMeasured=0,F.value=1e-4,F.title=le.wind_title,!$("#canvas_wind").length)return null;function a(){var e;switch(F.value=Be(me.wlatest),F.average=Be(me.wspeed),F.gust=Be(me.wgust),F.maxGustToday=Be(me.wgustTM),F.maxAvgToday=Be(me.windTM),me.windunit){case"mph":case"kts":F.maxValue=Math.max(Ua(F.maxGustToday,10),oe.windScaleDefMaxMph);break;case"m/s":F.maxValue=Math.max(Ua(F.maxGustToday,5),oe.windScaleDefMaxMs);break;default:F.maxValue=Math.max(Ua(F.maxGustToday,20),oe.windScaleDefMaxKmh)}F.areas=[steelseries.Section(0,+F.average,oe.windAvgArea),steelseries.Section(+F.average,+F.gust,oe.minMaxArea)],F.maxValue!==R.getMaxValue()&&(R.setValue(0),R.setMaxValue(F.maxValue)),R.setArea(F.areas),R.setMaxMeasuredValue(F.maxGustToday),R.setValueAnimated(F.value),ddimgtooltip.showTips&&(e=le.tenminavgwind_info+": "+F.average+" "+me.windunit+" | "+le.maxavgwind_info+": "+F.maxAvgToday+" "+me.windunit+"<br>"+le.tenmingust_info+": "+F.gust+" "+me.windunit+" | "+le.maxgust_info+": "+F.maxGustToday+" "+me.windunit+" "+le.at+" "+me.TwgustTM+" "+le.bearing_info+": "+me.bearingTM+(isNaN(parseFloat(me.bearingTM))?"":"° ("+je(+me.bearingTM)+")"),$("#imgtip6_txt").html(e))}return e.size=Math.ceil($("#canvas_wind").width()*re.gaugeScaling),e.area=F.areas,e.maxValue=F.maxValue,e.niceScale=!1,e.thresholdVisible=!1,e.maxMeasuredValueVisible=!0,e.titleString=F.title,e.unitString=me.windunit,(R=new steelseries.Radial("canvas_wind",e)).setMaxMeasuredValue(F.maxMeasured),R.setValue(F.value),1!==re.gaugeScaling&&$("#canvas_wind").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_wind").css(Ra(e.size)),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[6]&&$("#imgtip6_img").attr("src",re.imgPathURL+re.tipImgs[6]+a)}),{data:F,update:a,gauge:R}}()),C}}),$e=(I={},{getInstance:function(){return k||(k=function(){var e=$.extend(!0,{},ue);if(I.valueLatest=0,I.valueAverage=0,I.titles=[le.latest_web,le.tenminavg_web],!$("#canvas_dir").length)return null;function a(){var e,a,t,i,s,n=0,l=0,r=0,o=[];if(I.valueLatest=Ke(me.bearing),I.valueAverage=Ke(me.avgbearing),I.bearingFrom=Ke(me.BearingRangeFrom10),I.bearingTo=Ke(me.BearingRangeTo10),y.setValueAnimatedAverage(+I.valueAverage),0===I.valueAverage&&(I.valueLatest=0),y.setValueAnimatedLatest(+I.valueLatest),re.showWindVariation){switch(e=+Be(me.wspeed),a=+Be(me.wgust),me.windunit.toLowerCase()){case"mph":I.avgKnots=.868976242*e,I.gstKnots=.868976242*a;break;case"kts":I.avgKnots=e,I.gstKnots=a;break;case"m/s":I.avgKnots=1.94384449*e,I.gstKnots=1.94384449*a;break;case"km/h":I.avgKnots=.539956803*e,I.gstKnots=.539956803*a}I.avgKnots=Math.round(I.avgKnots),I.gstKnots=Math.round(I.gstKnots),re.showWindMetar?y.VRB=" - METAR: "+("0"+me.avgbearing).slice(-3)+("0"+I.avgKnots).slice(-2)+"G"+("0"+I.gstKnots).slice(-2)+"KT ":y.VRB="",0<e?(t=(+I.bearingTo<+I.bearingFrom?+I.bearingTo+360:+I.bearingTo)-+I.bearingFrom,I.avgKnots<3?re.showRoseOnDirGauge?(y.setSection([steelseries.Section(I.bearingFrom,I.bearingTo,oe.windVariationSector)]),y.setSection([])):(y.setSection([steelseries.Section(I.bearingFrom,I.bearingTo,oe.minMaxArea)]),y.setArea([])):re.showRoseOnDirGauge?y.setSection([steelseries.Section(I.bearingFrom,I.bearingTo,oe.windVariationSector)]):(y.setSection([]),y.setArea([steelseries.Section(I.bearingFrom,I.bearingTo,oe.minMaxArea)])),re.showWindMetar&&(t<60&&0<t||0===t&&I.bearingFrom===I.valueAverage?y.VRB+=" STDY":I.avgKnots<3?y.VRB+=" VRB":y.VRB+=" "+I.bearingFrom+"V"+I.bearingTo)):(re.showWindMetar&&(y.VRB=" - METAR: 00000KT"),y.setSection([]),re.showRoseOnDirGauge||y.setArea([]))}else y.VRB="";if(re.showRoseOnDirGauge&&me.WindRoseData){for(r=360/(n=me.WindRoseData.length),s=0;s<n;s++)l=Math.max(l,me.WindRoseData[s]);if(0<l)for(s=0;s<n;s++)o[s]=steelseries.Section(s*r-r/2,(s+1)*r-r/2,"rgba("+Fa("2020D0","D04040",me.WindRoseData[s]/l)+","+(me.WindRoseData[s]/l).toFixed(2)+")");y.setArea(o)}ddimgtooltip.showTips&&(i=le.latest_title+" "+le.bearing_info+": "+I.valueLatest+"° ("+je(+I.valueLatest)+")"+y.VRB+"<br>"+le.tenminavg_web+" "+le.bearing_info+": "+I.valueAverage+"° ("+je(+I.valueAverage)+"), "+le.dominant_bearing+": "+me.domwinddir,re.showRoseGauge||(i+="<br>"+le.windruntoday+": "+me.windrun+" "+be.windrun),$("#imgtip7_txt").html(i))}return e.size=Math.ceil($("#canvas_dir").width()*re.gaugeScaling),e.pointerTypeLatest=oe.pointer,e.pointerTypeAverage=oe.dirAvgPointer,e.pointerColorAverage=oe.dirAvgPointerColour,e.degreeScale=!0,e.pointSymbols=le.compass,e.roseVisible=!1,e.lcdTitleStrings=I.titles,e.useColorLabels=!1,(y=new steelseries.WindDirection("canvas_dir",e)).setValueAverage(+I.valueAverage),y.setValueLatest(+I.valueLatest),1!==re.gaugeScaling&&$("#canvas_dir").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_dir").css(Ra(e.size)),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[7]&&$("#imgtip7_img").attr("src",re.imgPathURL+re.tipImgs[7]+a)}),{data:I,update:a,gauge:y}}()),k}}),ke=function(){var e,s,n,l={},r={};function a(){var e,a;if(!$("#canvas_rose").length)return null;function t(){var e,a,t;n&&!r.firstRun&&(n.clearRect(0,0,r.gaugeSize,r.gaugeSize),l.ctxPlot.clearRect(0,0,r.plotSize,r.plotSize),(e=new RGraph.Rose("rosePlot",me.WindRoseData)).Set("chart.strokestyle","black"),e.Set("chart.background.axes.color","gray"),e.Set("chart.colors.alpha",.5),e.Set("chart.colors",["Gradient(#408040:red:#7070A0)"]),e.Set("chart.margin",Math.ceil(40/me.WindRoseData.length)),e.Set("chart.title",r.titleString),e.Set("chart.title.size",Math.ceil(.05*r.plotSize)),e.Set("chart.title.bold",!1),e.Set("chart.title.color",oe.background.labelColor.getRgbColor()),e.Set("chart.gutter.top",.2*r.plotSize),e.Set("chart.gutter.bottom",.2*r.plotSize),e.Set("chart.tooltips.effect","snap"),e.Set("chart.labels.axes",""),e.Set("chart.background.circles",!0),e.Set("chart.background.grid.spokes",16),e.Set("chart.radius",r.plotSize2),e.Draw(),r.showOdo&&((t=l.ctxPlot).save(),t.textAlign="center",t.textBaseline="middle",t.font=.05*r.gaugeSize+"px Arial,Verdana,sans-serif",t.strokeStyle=oe.background.labelColor.getRgbaColor(),t.fillStyle=oe.background.labelColor.getRgbaColor(),t.fillText(r.gaugeOdoTitle,r.plotSize2,.75*r.plotSize,.5*r.plotSize),t.restore()),n.drawImage(l.frame,0,0),n.drawImage(l.background,0,0),a=Math.floor(r.gaugeSize2-r.plotSize2),n.drawImage(l.plot,a,a),n.drawImage(l.foreground,0,0),r.showOdo&&s.setValueAnimated(Be(me.windrun)),ddimgtooltip.showTips&&$("#imgtip10_txt").html(le.dominant_bearing+": "+me.domwinddir+"<br>"+le.windruntoday+": "+me.windrun+" "+be.windrun))}function i(e,a){e.save(),e.font=.08*a+"px serif",e.strokeStyle=oe.background.labelColor.getRgbaColor(),e.fillStyle=oe.background.labelColor.getRgbColor(),e.textAlign="center",e.textBaseline="middle";for(var t=0;t<4;t++)e.translate(a/2,.125*a),e.fillText(r.compassStrings[2*t],0,0,a),e.translate(-a/2,.125*-a),e.translate(a/2,a/2),e.rotate(Math.PI/2),e.translate(-a/2,-a/2);e.restore()}return r.gaugeSize=Math.ceil($("#canvas_rose").width()*re.gaugeScaling),r.gaugeSize2=r.gaugeSize/2,r.showOdo=re.showRoseGaugeOdo||!1,r.compassStrings=le.compass,r.titleString=le.windrose,r.gaugeOdoTitle=le.km,(e=document.createElement("div")).style.display="none",document.body.appendChild(e),r.plotSize=Math.floor(.68*r.gaugeSize),r.plotSize2=r.plotSize/2,l.plot=document.createElement("canvas"),l.plot.width=r.plotSize,l.plot.height=r.plotSize,l.plot.id="rosePlot",l.ctxPlot=l.plot.getContext("2d"),e.appendChild(l.plot),l.frame=document.createElement("canvas"),l.frame.width=r.gaugeSize,l.frame.height=r.gaugeSize,l.ctxFrame=l.frame.getContext("2d"),steelseries.drawFrame(l.ctxFrame,oe.frameDesign,r.gaugeSize2,r.gaugeSize2,r.gaugeSize,r.gaugeSize),l.background=document.createElement("canvas"),l.background.width=r.gaugeSize,l.background.height=r.gaugeSize,l.ctxBackground=l.background.getContext("2d"),steelseries.drawBackground(l.ctxBackground,oe.background,r.gaugeSize2,r.gaugeSize2,r.gaugeSize,r.gaugeSize),i(l.ctxBackground,r.gaugeSize),l.foreground=document.createElement("canvas"),l.foreground.width=r.gaugeSize,l.foreground.height=r.gaugeSize,l.ctxForeground=l.foreground.getContext("2d"),steelseries.drawForeground(l.ctxForeground,oe.foreground,r.gaugeSize,r.gaugeSize,!1),a=document.getElementById("canvas_rose"),n=a.getContext("2d"),1!==re.gaugeScaling&&$("#canvas_rose").css({width:r.gaugeSize+"px",height:r.gaugeSize+"px"}),a.width=r.gaugeSize,a.height=r.gaugeSize,re.showGaugeShadow&&$("#canvas_rose").css(Ra(r.gaugeSize)),n.drawImage(l.frame,0,0),n.drawImage(l.background,0,0),n.drawImage(l.foreground,0,0),r.showOdo&&(r.odoHeight=Math.ceil(.08*r.gaugeSize),r.odoWidth=Math.ceil(Math.floor(.68*r.odoHeight)*r.odoDigits),l.Odo=document.createElement("canvas"),$(l.Odo).attr({id:"canvas_odo",width:r.odoWidth,height:r.odoHeight}),$(l.Odo).css({position:"absolute",top:Math.ceil(.7*r.gaugeSize+$("#canvas_rose").position().top)+"px",left:Math.ceil((r.gaugeSize-r.odoWidth)/2+$("#canvas_rose").position().left)+"px"}),$(l.Odo).insertBefore("#canvas_rose"),s=new steelseries.Odometer("canvas_odo",{height:r.odoHeight,digits:r.odoDigits-1,decimals:1})),$.subscribe("gauges.dataUpdated",t),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[10]&&$("#imgtip10_img").attr("src",re.imgPathURL+re.tipImgs[10]+a)}),r.firstRun=!1,{update:t,gauge:s,drawCompassPoints:i,setTitle:function(e){r.titleString=e},setCompassStrings:function(e){r.compassStrings=e,r.firstRun||(steelseries.drawBackground(l.ctxBackground,oe.background,r.gaugeSize2,r.gaugeSize2,r.gaugeSize,r.gaugeSize),i(l.ctxBackground,r.gaugeSize))},setOdoTitle:function(e){r.gaugeOdoTitle=e}}}return r.firstRun=!0,r.odoDigits=5,{getInstance:function(){return e||(e=a()),e}}}(),ye=(L={},{getInstance:function(){return M||(M=function(){var e=$.extend(!0,{},ue);if(L.value=1e-4,L.sections=[steelseries.Section(0,2.9,"#289500"),steelseries.Section(2.9,5.8,"#f7e400"),steelseries.Section(5.8,7.8,"#f85900"),steelseries.Section(7.8,10.9,"#d8001d"),steelseries.Section(10.9,20,"#6b49c8")],L.gradient=new steelseries.gradientWrapper(0,16,[0,.1,.19,.31,.45,.625,1],[new steelseries.rgbaColor(0,200,0,1),new steelseries.rgbaColor(0,200,0,1),new steelseries.rgbaColor(255,255,0,1),new steelseries.rgbaColor(248,89,0,1),new steelseries.rgbaColor(255,0,0,1),new steelseries.rgbaColor(255,0,144,1),new steelseries.rgbaColor(153,140,255,1)]),L.useSections=!1,L.useValueGradient=!0,!$("#canvas_uv").length)return null;function a(){var e,a;L.value=Be(me.UV),a=0==+L.value?0:L.value<2.5?1:L.value<5.5?2:L.value<7.5?3:L.value<10.5?4:5,L.maxValue=Math.max(Ua(L.value,2),oe.uvScaleDefMax),L.maxValue!==D.getMaxValue()&&(D.setValue(0),D.setMaxValue(L.maxValue)),L.risk=le.uv_levels[a],L.headLine=le.uv_headlines[a],L.detail=le.uv_details[a],D.setUnitString(L.risk),D.setValueAnimated(L.value),ddimgtooltip.showTips&&(e="<b>"+le.uv_title+": "+L.value+"</b> - <i>"+le.solar_maxToday+": "+me.UVTH+"</i><br>",e+="<i>"+L.headLine+"</i><br>",e+=L.detail,$("#imgtip8_txt").html(e))}return e.size=Math.ceil($("#canvas_uv").width()*re.gaugeScaling),e.gaugeType=steelseries.GaugeType.TYPE3,e.maxValue=oe.uvScaleDefMax,e.titleString=le.uv_title,e.niceScale=!1,e.section=L.sections,e.useSectionColors=L.useSections,e.valueGradient=L.gradient,e.useValueGradient=L.useValueGradient,e.lcdDecimals=oe.uvLcdDecimals,(D=new steelseries.RadialBargraph("canvas_uv",e)).setValue(L.value),1!==re.gaugeScaling&&$("#canvas_uv").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_uv").css(Ra(e.size)),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[8]&&$("#imgtip8_img").attr("src",re.imgPathURL+re.tipImgs[8]+a)}),{update:a,gauge:D}}()),M}}),Ie=(_={},{getInstance:function(){return V||(V=function(){var e=$.extend(!0,{},ue);if(_.value=1e-4,_.sections=[steelseries.Section(0,600,"rgba(40,149,0,0.3)"),steelseries.Section(600,800,"rgba(248,89,0,0.3)"),steelseries.Section(800,1e3,"rgba(216,0,29,0.3)"),steelseries.Section(1e3,1800,"rgba(107,73,200,0.3)")],!$("#canvas_solar").length)return null;function a(){var e,a;_.value=+Ke(me.SolarRad),_.maxToday=Ke(me.SolarTM),_.currMaxValue=+Ke(me.CurrentSolarMax),a=0==+_.currMaxValue?"--":Math.round(+_.value/+_.currMaxValue*100),_.maxValue=Math.max(_.value,_.currMaxValue,_.maxToday,oe.solarGaugeScaleMax),_.maxValue=Ua(_.maxValue,100),_.maxValue!==T.getMaxValue()&&(T.setValue(0),T.setMaxValue(_.maxValue)),"N/A"!==me.CurrentSolarMax&&T.setArea([steelseries.Section(Math.max(_.currMaxValue*oe.sunshineThresholdPct/100,oe.sunshineThreshold),_.currMaxValue,"rgba(255,255,50,0.4)"),steelseries.Section(_.currMaxValue,Math.min(_.currMaxValue+.15*_.maxValue,_.maxValue),"rgba(220,0,0,0.5)")]),T.setMaxMeasuredValue(_.maxToday),T.setValueAnimated(_.value),re.showSunshineLed&&T.setUserLedOnOff("--"!==a&&a>=oe.sunshineThresholdPct&&+_.value>=oe.sunshineThreshold),ddimgtooltip.showTips&&(e="<b>"+le.solar_title+": "+_.value+" W/m²</b> - <i>"+a+"% "+le.solar_ofMax+"</i><br>"+le.solar_currentMax+": "+_.currMaxValue+" W/m²",void 0!==me.SolarTM&&(e+="<br>"+le.solar_maxToday+": "+_.maxToday+" W/m²"),$("#imgtip9_txt").html(e))}return e.size=Math.ceil($("#canvas_solar").width()*re.gaugeScaling),e.section=_.sections,e.maxValue=oe.solarGaugeScaleMax,e.titleString=le.solar_title,e.unitString="W/m²",e.niceScale=!1,e.thresholdVisible=!1,e.lcdDecimals=0,re.showSunshineLed&&(e.userLedVisible=!0,e.userLedColor=steelseries.LedColor.YELLOW_LED),(T=new steelseries.Radial("canvas_solar",e)).setValue(_.value),1!==re.gaugeScaling&&$("#canvas_solar").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_solar").css(Ra(e.size)),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[9]&&$("#imgtip9_img").attr("src",re.imgPathURL+re.tipImgs[9]+a)}),{update:a,gauge:T}}()),V}}),Ce=(v={},{getInstance:function(){return e||(e=function(){var e=$.extend(!0,{},ue);if(v.sections=Ne(!0),v.value=1e-4,v.maxValue=oe.cloudScaleDefMaxm,!$("#canvas_cloud").length)return null;function a(){v.value=Ke(me.cloudbasevalue),"m"===me.cloudbaseunit?(v.maxValue=Math.max(Ua(v.value,1e3),oe.cloudScaleDefMaxm,v.maxValue),v.value<=1e3&&re.roundCloudbaseVal?v.value=10*Math.round(v.value/10):re.roundCloudbaseVal&&(v.value=50*Math.round(v.value/50))):(v.maxValue=Math.max(Ua(v.value,2e3),oe.cloudScaleDefMaxft,v.maxValue),v.value<=2e3&&re.roundCloudbaseVal?v.value=50*Math.round(v.value/50):re.roundCloudbaseVal&&(v.value=100*Math.round(v.value/100))),v.maxValue!==f.getMaxValue()&&(f.getMaxValue()>v.maxValue?v.maxValue=f.getMaxValue():(f.setValue(0),f.setMaxValue(v.maxValue))),f.setValueAnimated(v.value),re.showPopupData&&$("#imgtip11_txt").html("<strong>"+le.cloudbase_popup_title+"</strong><br>"+le.cloudbase_popup_text)}return e.size=Math.ceil($("#canvas_cloud").width()*re.gaugeScaling),e.section=v.sections,e.maxValue=v.maxValue,e.titleString=le.cloudbase_title,e.unitString=le.metres,e.thresholdVisible=!1,e.lcdDecimals=0,(f=new steelseries.Radial("canvas_cloud",e)).setValue(v.value),1!==re.gaugeScaling&&$("#canvas_cloud").css({width:e.size+"px",height:e.size+"px"}),re.showGaugeShadow&&$("#canvas_cloud").css(Ra(e.size)),$.subscribe("gauges.dataUpdated",a),$.subscribe("gauges.graphUpdate",function(e,a){null!==re.tipImgs[11]&&$("#imgtip11_img").attr("src",re.imgPathURL+re.tipImgs[11]+a)}),{data:v,update:a,gauge:f}}()),e}}),Re=function(){var e=re.realTimeURL;0<$.active&&he.abort(),re.longPoll&&(e+="?timestamp="+pe),he=$.ajax({url:e,cache:re.longPoll,dataType:"json",timeout:re.longPoll?1e3*(Math.min(re.realtimeInterval,20)+21):21e3}).done(function(e){Fe(e)}).fail(function(e,a,t){Ue(e,a,t)})},Fe=function(e){var a;p.reset(re.longPoll?1:re.realtimeInterval),re.longPoll&&"OK"!==e.status?Ue(null,"PHP Error",e.status):0<(a=Pe(e)?ce:5)?i=setTimeout(Re,1e3*a):Re()},Ue=function(e,a,t){null!=e&&"abort"===e.statusText||(clearTimeout(i),m.setLedOnOff(!1),m.setTitle(le.led_title_unknown),c.setText(a+": "+t),i=setTimeout(Re,5e3))},Pe=function(e){var a,t,i,s,n,l,r,o,u;if(re.longPoll?(pe=e.timestamp,me=e.data):me=e,void 0!==me.ver&&me.ver>=d){try{t=(a=me.LastRainTipISO.split(" "))[0].replace(/\//g,"-").split("-"),i=a[1].split(":"),(s=new Date).setHours(0,0,0,0),void 0===me.dateFormat?me.dateFormat="y/m/d":me.dateFormat=me.dateFormat.replace("%",""),(l="y/m/d"===me.dateFormat?new Date(t[0],t[1]-1,t[2],i[0],i[1],0,0):"d/m/y"===me.dateFormat?new Date(t[2],t[1]-1,t[0],i[0],i[1],0,0):new Date(t[2],t[0]-1,t[1],i[0],i[1],0,0)).getTime()>=s.getTime()?me.LastRained=le.LastRainedT_info+" "+a[1]:l.getTime()+864e5>=s.getTime()?me.LastRained=le.LastRainedY_info+" "+a[1]:me.LastRained=l.getDate().toString()+" "+le.months[l.getMonth()]+" "+le.at+" "+a[1]}catch(e){me.LastRained=me.LastRainTipISO}1<me.tempunit.length?me.tempunit=me.tempunit.replace(/&\S*;/,"°"):me.tempunit="°"+me.tempunit,n=Date.now(),r=me.timeUTC.split(","),n-(g=Date.UTC(r[0],r[1]-1,r[2],r[3],r[4],r[5]))>60*re.stationTimeout*1e3?(o=Math.floor((n-g)/6e4),m.setLedColor(steelseries.LedColor.RED_LED),m.setTitle(le.led_title_offline),m.blink(!0),i=o<120?o.toString()+" "+le.StatusMinsAgo:o<2880?Math.floor(o/60).toString()+" "+le.StatusHoursAgo:Math.floor(o/1440).toString()+" "+le.StatusDaysAgo,me.forecast=le.led_title_offline+" "+le.StatusLastUpdate+" "+i):1==+me.SensorContactLost?(m.setLedColor(steelseries.LedColor.RED_LED),m.setTitle(le.led_title_lost),m.blink(!0),me.forecast=le.led_title_lost):(m.setLedColor(steelseries.LedColor.GREEN_LED),m.setTitle(le.led_title_ok+". "+le.StatusLastUpdate+": "+me.date),m.blink(!1),m.setLedOnOff(!0)),me.forecast=$("<div/>").html(me.forecast).text(),me.forecast=me.forecast.trim(),me.pressunit=me.pressunit.trim(),"in"===me.pressunit&&(me.pressunit="inHg"),me.windunit=me.windunit.trim(),me.windunit=me.windunit.toLowerCase(),"knots"===me.windunit&&(me.windunit="kts"),"kmh"!==me.windunit&&"kph"!==me.windunit||(me.windunit="km/h"),me.rainunit=me.rainunit.trim();try{"metres"===me.cloudbaseunit.toLowerCase()?me.cloudbaseunit="m":"feet"===me.cloudbaseunit.toLowerCase()&&(me.cloudbaseunit="ft")}catch(e){me.cloudbaseunit=""}!re.showCloudGauge||4!==re.weatherProgram&&5!==re.weatherProgram&&""!==me.cloudbasevalue||(me.cloudbaseunit="mph"===me.windunit||"kts"===me.windunit?"ft":"m",me.cloudbasevalue=Ca(me.temp,me.tempunit,me.dew,me.cloudbaseunit)),me.tempunit[1]!==be.temp&&de?"C"===me.tempunit[1]?va(Ze):va(qe):ge&&(be.temp=me.tempunit[1],fa("rad_unitsTemp",be.temp)),me.rainunit!==be.rain&&de?Va("mm"===be.rain?ra:la):ge&&(be.rain=me.rainunit,fa("rad_unitsRain",be.rain)),me.windunit!==be.wind&&de?Ta(me.windunit,be.wind):ge&&(be.wind=me.windunit,be.windrun=Ia(me.windunit),fa("rad_unitsWind",be.wind)),me.pressunit!==be.press&&de?_a(me.pressunit,be.press):ge&&(be.press=me.pressunit,fa("rad_unitsPress",be.press)),me.cloudbaseunit!==be.cloud&&de?Ma("m"===be.cloud?wa:ba):ge&&(be.cloud=me.cloudbaseunit,fa("rad_unitsCloud",be.cloud)),c.setText(me.forecast),ge&&ze(),$.publish("gauges.dataUpdated",{}),u=!0}else{if(me.ver<d)return p.setValue(0),c.setText("Your "+re.realTimeURL.substr(re.realTimeURL.lastIndexOf("/")+1)+" file template needs updating!"),!1;c.setText(le.realtimeCorrupt),m.setLedOnOff(!1),m.setTitle(le.led_title_unknown),u=!1}return u},Ge=function(){c.setText(le.StatusPageLimit),m.setLedColor(steelseries.LedColor.RED_LED),m.setTitle(le.StatusPageLimit),m.blink(!0),m.setTitle(le.StatusTimeout),clearTimeout(i),0<$.active&&he.abort(),clearInterval(a),p.setValue(0),$("#canvas_led").click(function(){$("#canvas_led").unbind("click"),p.reset(1),a=setInterval(function(){$.publish("gauges.clockTick",null)},1e3),setTimeout(Ge,60*re.pageUpdateLimit*1e3),Re()})},ze=function(){var e="?"+(new Date).getTime().toString();"F"===me.tempunit[1]&&(be.temp="F",fa("rad_unitsTemp","F"),Da(!1)),"hPa"!==me.pressunit&&(be.press=me.pressunit,fa("rad_unitsPress",me.pressunit),ka(me.pressunit)),"km/h"!==me.windunit&&(be.wind=me.windunit,fa("rad_unitsWind",me.windunit),$a(me.windunit)),"mm"!==me.rainunit&&(be.rain=me.rainunit,fa("rad_unitsRain",me.rainunit),La(!1)),re.showSolarGauge&&void 0!==me.SolarTM&&w&&w.gauge.setMaxMeasuredValueVisible(!0),re.showCloudGauge&&"m"!==me.cloudbaseunit&&(be.cloud=me.cloudbaseunit,fa("rad_unitsCloud",me.cloudbaseunit),ya(!1)),$("#scriptVer").html(re.scriptVer),$("#programVersion").html(me.version),$("#programBuild").html(me.build),$("#programName").html(we[re.weatherProgram]),re.showPopupData&&(ddimgtooltip.init('[id^="tip_"]'),$(window).width()<480&&$(".ddimgtooltip").filter(":hidden").width("200px")),re.showPopupData&&re.showPopupGraphs&&($("#imgtip0_img").attr("src",re.imgPathURL+re.tipImgs[0][0]+e),s&&$("#imgtip1_img").attr("src",re.imgPathURL+re.tipImgs[1][s.data.popupImg]+e),$("#imgtip2_img").attr("src",re.imgPathURL+re.tipImgs[2]+e),$("#imgtip3_img").attr("src",re.imgPathURL+re.tipImgs[3]+e),$("#imgtip4_img").attr("src",re.imgPathURL+re.tipImgs[4][0]+e),$("#imgtip5_img").attr("src",re.imgPathURL+re.tipImgs[5]+e),$("#imgtip6_img").attr("src",re.imgPathURL+re.tipImgs[6]+e),$("#imgtip7_img").attr("src",re.imgPathURL+re.tipImgs[7]+e),$("#imgtip8_img").attr("src",re.imgPathURL+re.tipImgs[8]+e),$("#imgtip9_img").attr("src",re.imgPathURL+re.tipImgs[9]+e),$("#imgtip10_img").attr("src",re.imgPathURL+re.tipImgs[10]+e),$("#imgtip11_img").attr("src",re.imgPathURL+re.tipImgs[11]+e),setInterval(function(){$.publish("gauges.graphUpdate","?"+(new Date).getTime().toString())},60*re.graphUpdateTime*1e3)),ge=!1},Ae=function(e){return e?[steelseries.Section(-100,-35,"rgba(195, 92, 211, 0.4)"),steelseries.Section(-35,-30,"rgba(139, 74, 197, 0.4)"),steelseries.Section(-30,-25,"rgba(98, 65, 188, 0.4)"),steelseries.Section(-25,-20,"rgba(62, 66, 185, 0.4)"),steelseries.Section(-20,-15,"rgba(42, 84, 194, 0.4)"),steelseries.Section(-15,-10,"rgba(25, 112, 210, 0.4)"),steelseries.Section(-10,-5,"rgba(9, 150, 224, 0.4)"),steelseries.Section(-5,0,"rgba(2, 170, 209, 0.4)"),steelseries.Section(0,5,"rgba(0, 162, 145, 0.4)"),steelseries.Section(5,10,"rgba(0, 158, 122, 0.4)"),steelseries.Section(10,15,"rgba(54, 177, 56, 0.4)"),steelseries.Section(15,20,"rgba(111, 202, 56, 0.4)"),steelseries.Section(20,25,"rgba(248, 233, 45, 0.4)"),steelseries.Section(25,30,"rgba(253, 142, 42, 0.4)"),steelseries.Section(30,40,"rgba(236, 45, 45, 0.4)"),steelseries.Section(40,100,"rgba(245, 109, 205, 0.4)")]:[steelseries.Section(-200,-30,"rgba(195, 92, 211, 0.4)"),steelseries.Section(-30,-25,"rgba(139, 74, 197, 0.4)"),steelseries.Section(-25,-15,"rgba(98, 65, 188, 0.4)"),steelseries.Section(-15,-5,"rgba(62, 66, 185, 0.4)"),steelseries.Section(-5,5,"rgba(42, 84, 194, 0.4)"),steelseries.Section(5,15,"rgba(25, 112, 210, 0.4)"),steelseries.Section(15,25,"rgba(9, 150, 224, 0.4)"),steelseries.Section(25,32,"rgba(2, 170, 209, 0.4)"),steelseries.Section(32,40,"rgba(0, 162, 145, 0.4)"),steelseries.Section(40,50,"rgba(0, 158, 122, 0.4)"),steelseries.Section(50,60,"rgba(54, 177, 56, 0.4)"),steelseries.Section(60,70,"rgba(111, 202, 56, 0.4)"),steelseries.Section(70,80,"rgba(248, 233, 45, 0.4)"),steelseries.Section(80,90,"rgba(253, 142, 42, 0.4)"),steelseries.Section(90,110,"rgba(236, 45, 45, 0.4)"),steelseries.Section(110,200,"rgba(245, 109, 205, 0.4)")]},He=function(e){var a=e?1:.04;return[steelseries.Section(0,.25*a,"rgba(0, 140, 0, 0.5)"),steelseries.Section(.25*a,1*a,"rgba(80, 192, 80, 0.5)"),steelseries.Section(1*a,4*a,"rgba(150, 203, 150, 0.5)"),steelseries.Section(4*a,16*a,"rgba(212, 203, 109, 0.5)"),steelseries.Section(16*a,50*a,"rgba(225, 155, 105, 0.5)"),steelseries.Section(50*a,1e3*a,"rgba(245, 86, 59, 0.5)")]},Oe=function(e){var a=e?1:.04;return[steelseries.Section(0,5*a,"rgba(0, 250, 0, 1)"),steelseries.Section(5*a,10*a,"rgba(0, 250, 117, 1)"),steelseries.Section(10*a,25*a,"rgba(218, 246, 0, 1)"),steelseries.Section(25*a,40*a,"rgba(250, 186, 0, 1)"),steelseries.Section(40*a,50*a,"rgba(250, 95, 0, 1)"),steelseries.Section(50*a,65*a,"rgba(250, 0, 0, 1)"),steelseries.Section(65*a,75*a,"rgba(250, 6, 80, 1)"),steelseries.Section(75*a,100*a,"rgba(205, 18, 158, 1)"),steelseries.Section(100*a,125*a,"rgba(0, 0, 250, 1)"),steelseries.Section(125*a,500*a,"rgba(0, 219, 212, 1)")]},We=function(e){return new steelseries.gradientWrapper(0,e?100:4,[0,.1,.62,1],[new steelseries.rgbaColor(15,148,0,1),new steelseries.rgbaColor(213,213,0,1),new steelseries.rgbaColor(213,0,25,1),new steelseries.rgbaColor(250,0,0,1)])},Ne=function(e){return e?[steelseries.Section(0,150,"rgba(245, 86, 59, 0.5)"),steelseries.Section(150,300,"rgba(225, 155, 105, 0.5)"),steelseries.Section(300,750,"rgba(212, 203, 109, 0.5)"),steelseries.Section(750,1e3,"rgba(150, 203, 150, 0.5)"),steelseries.Section(1e3,1500,"rgba(80, 192, 80, 0.5)"),steelseries.Section(1500,2500,"rgba(0, 140, 0, 0.5)"),steelseries.Section(2500,5500,"rgba(19, 103, 186, 0.5)")]:[steelseries.Section(0,500,"rgba(245, 86, 59, 0.5)"),steelseries.Section(500,1e3,"rgba(225, 155, 105, 0.5)"),steelseries.Section(1e3,2500,"rgba(212, 203, 109, 0.5)"),steelseries.Section(2500,3500,"rgba(150, 203, 150, 0.5)"),steelseries.Section(3500,5500,"rgba(80, 192, 80, 0.5)"),steelseries.Section(5500,8500,"rgba(0, 140, 0, 0.5)"),steelseries.Section(8500,18e3,"rgba(19, 103, 186, 0.5)")]},je=function(e){return 0===e?le.calm:le.coords[Math.floor((e+11.25)/22.5)%16]},Ee=function(e){var a,t;return a=e.replace(/(\[|\])/g,"\\$1"),null===(t=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href))?"":t[1]},Be=function(e,a){try{return/[-+]?[0-9]+\.?[0-9]*/.exec(e.replace(",","."))[0]}catch(e){return a||-9999}},Ke=function(e,a){try{return/[-+]?[0-9]+/.exec(e)[0]}catch(e){return a||-9999}},Ye=function(e,a,t){var i=3*e*("C"===a[1]?1:5/9);return-9999===e?t?"--":e:5<i?t?le.RisingVeryRapidly:1:3<i?t?le.RisingQuickly:1:1<i?t?le.Rising:1:.5<i?t?le.RisingSlowly:1:-.5<=i?t?le.Steady:0:-1<=i?t?le.FallingSlowly:-1:-3<=i?t?le.Falling:-1:-5<=i?t?le.FallingQuickly:-1:t?le.FallingVeryRapidly:-1},Qe=function(e,a,t){var i=3*e;return"inHg"===a?i*=33.8639:"kPa"===a&&(i*=10),-9999===e?t?"--":e:6<i?t?le.RisingVeryRapidly:1:3.5<i?t?le.RisingQuickly:1:1.5<i?t?le.Rising:1:.1<i?t?le.RisingSlowly:1:-.1<=i?t?le.Steady:0:-1.5<=i?t?le.FallingSlowly:-1:-3.5<=i?t?le.Falling:-1:-6<=i?t?le.FallingQuickly:-1:t?le.FallingVeryRapidly:-1},Je=function(e){return Math.min(Be(me.tempTL,e),Be(me.dewpointTL,e),Be(me.apptempTL,e),Be(me.wchillTL,e))},Xe=function(e){return Math.max(Be(me.tempTH,e),Be(me.apptempTH,e),Be(me.heatindexTH,e),Be(me.humidex,e))},Ze=function(e){return(9*Be(e)/5+32).toFixed(1)},qe=function(e){return(5*(Be(e)-32)/9).toFixed(1)},ea=function(e){return(.447*Be(e)).toFixed(1)},aa=function(e){return(.515*Be(e)).toFixed(1)},ta=function(e){return(.2778*Be(e)).toFixed(1)},ia=function(e){return(1.9426*Be(e)).toFixed(1)},sa=function(e){return(2.237*Be(e)).toFixed(1)},na=function(e){return(3.6*Be(e)).toFixed(1)},la=function(e){return(Be(e)/25.4).toFixed(2)},ra=function(e){return(25.4*Be(e)).toFixed(1)},oa=function(e){return(1.609344*Be(e)).toFixed(1)},ua=function(e){return(1.852*Be(e)).toFixed(1)},ga=function(e){return(Be(e)/1.609344).toFixed(1)},da=function(e){return(Be(e)/1.852).toFixed(1)},ma=function(e,a){return(.029528744*Be(e)).toFixed(a||3)},ca=function(e){return(Be(e)/.029528744).toFixed(1)},pa=function(e){return(10*Be(e)).toFixed(1)},ha=function(e,a){return(Be(e)/10).toFixed(a||2)},ba=function(e){return(3.2808399*e).toFixed(0)},wa=function(e){return(e/3.2808399).toFixed(0)},Sa=function(e,a){var t,i=new Date;i.setYear(i.getFullYear()+1),t="; expires="+i.toGMTString(),document.cookie=e+"="+encodeURIComponent(JSON.stringify(a))+t},xa=function(e){var a,t,i,s=null,n=document.cookie.split(";");for(a=n.length;a--;)if((t=n[a].split("="))[0].trim()===e){try{i=decodeURIComponent(t[1])}catch(e){i=t[1]}s=JSON.parse(unescape(i));break}return s},fa=function(e,a){$('input:radio[name="'+e+'"]').filter('[value="'+a+'"]').prop("checked",!0)},va=function(e){me.apptemp=e(me.apptemp),me.apptempTH=e(me.apptempTH),me.apptempTL=e(me.apptempTL),me.dew=e(me.dew),me.dewpointTH=e(me.dewpointTH),me.dewpointTL=e(me.dewpointTL),me.heatindex=e(me.heatindex),me.heatindexTH=e(me.heatindexTH),me.humidex=e(me.humidex),me.intemp=e(me.intemp),me.intempTL&&me.intempTH&&(me.intempTL=e(me.intempTL),me.intempTH=e(me.intempTH)),me.temp=e(me.temp),me.tempTH=e(me.tempTH),me.tempTL=e(me.tempTL),me.wchill=e(me.wchill),me.wchillTL=e(me.wchillTL),e===Ze?(me.temptrend=(9*+Be(me.temptrend)/5).toFixed(1),me.tempunit="°F"):(me.temptrend=(5*+Be(me.temptrend)/9).toFixed(1),me.tempunit="°C")},Va=function(e){me.rfall=e(me.rfall),me.rrate=e(me.rrate),me.rrateTM=e(me.rrateTM),me.hourlyrainTH=e(me.hourlyrainTH),me.rainunit=e===la?"in":"mm"},Ta=function(e,a){var t,i,s,n,l=function(e){return e};switch(e){case"mph":t=ea,s=oa;break;case"kts":t=aa,s=ua;break;case"km/h":t=ta,s=l;break;case"m/s":default:s=t=l}switch(a){case"mph":i=sa,n=ga,be.windrun="miles";break;case"kts":i=ia,n=da,be.windrun="n.miles";break;case"km/h":i=na,n=l,be.windrun="km";break;case"m/s":default:n=i=l,be.windrun="km"}me.wgust=i(t(me.wgust)),me.wgustTM=i(t(me.wgustTM)),me.windTM=i(t(me.windTM)),me.windrun=n(s(me.windrun)),me.wlatest=i(t(me.wlatest)),me.wspeed=i(t(me.wspeed)),me.windunit=a},_a=function(e,a){var t,i,s=function(e){return e};switch(e){case"hPa":case"mb":t=s;break;case"inHg":t=ca;break;case"kPa":t=pa}switch(a){case"hPa":case"mb":i=s;break;case"inHg":i=ma;break;case"kPa":i=ha}me.press=i(t(me.press)),me.pressH=i(t(me.pressH)),me.pressL=i(t(me.pressL)),me.pressTH=i(t(me.pressTH)),me.pressTL=i(t(me.pressTL)),me.presstrendval=i(t(me.presstrendval),3),me.pressunit=a},Ma=function(e){me.cloudbasevalue=e(me.cloudbasevalue),me.cloudbaseunit=e===ba?"ft":"m"},Da=function(e){e?(me.tempunit="°C",t&&(t.data.sections=Ae(!0),t.data.minValue=oe.tempScaleDefMinC,t.data.maxValue=oe.tempScaleDefMaxC),s&&(s.data.sections=Ae(!0),s.data.minValue=oe.tempScaleDefMinC,s.data.maxValue=oe.tempScaleDefMaxC)):(me.tempunit="°F",t&&(t.data.sections=Ae(!1),t.data.minValue=oe.tempScaleDefMinF,t.data.maxValue=oe.tempScaleDefMaxF),s&&(s.data.sections=Ae(!1),s.data.minValue=oe.tempScaleDefMinF,s.data.maxValue=oe.tempScaleDefMaxF)),t&&(t.gauge.setUnitString(me.tempunit),t.gauge.setSection(t.data.sections)),s&&(s.gauge.setUnitString(me.tempunit),s.gauge.setSection(t.data.sections))},La=function(e){e?(me.rainunit="mm",n&&(n.data.lcdDecimals=1,n.data.scaleDecimals=1,n.data.labelNumberFormat=oe.labelFormat,n.data.sections=oe.rainUseSectionColours?Oe(!0):[],n.data.maxValue=oe.rainScaleDefMaxmm,n.data.grad=oe.rainUseGradientColours?We(!0):null),l&&(l.data.lcdDecimals=1,l.data.scaleDecimals=0,l.data.labelNumberFormat=oe.labelFormat,l.data.sections=He(!0),l.data.maxValue=oe.rainRateScaleDefMaxmm)):(me.rainunit="in",n&&(n.data.lcdDecimals=2,n.data.scaleDecimals=oe.rainScaleDefMaxIn<1?2:1,n.data.labelNumberFormat=steelseries.LabelNumberFormat.FRACTIONAL,n.data.sections=oe.rainUseSectionColours?Oe(!1):[],n.data.maxValue=oe.rainScaleDefMaxIn,n.data.grad=oe.rainUseGradientColours?We(!1):null),l&&(l.data.lcdDecimals=2,l.data.scaleDecimals=oe.rainRateScaleDefMaxIn<1?2:1,l.data.labelNumberFormat=steelseries.LabelNumberFormat.FRACTIONAL,l.data.sections=He(!1),l.data.maxValue=oe.rainRateScaleDefMaxIn)),n&&(n.data.value=0,n.gauge.setUnitString(me.rainunit),n.gauge.setSection(n.data.sections),n.gauge.setGradient(n.data.grad),n.gauge.setFractionalScaleDecimals(n.data.scaleDecimals),n.gauge.setLabelNumberFormat(n.data.labelNumberFormat),n.gauge.setLcdDecimals(n.data.lcdDecimals),n.gauge.setValue(0),n.gauge.setMaxValue(n.data.maxValue)),l&&(l.data.value=0,l.gauge.setUnitString(me.rainunit+"/h"),l.gauge.setSection(l.data.sections),l.gauge.setFractionalScaleDecimals(l.data.scaleDecimals),l.gauge.setLabelNumberFormat(l.data.labelNumberFormat),l.gauge.setLcdDecimals(l.data.lcdDecimals),l.gauge.setValue(0),l.gauge.setMaxValue(l.data.maxValue))},$a=function(e){var a;if(me.windunit=e,u){switch(e){case"mph":a=oe.windScaleDefMaxMph;break;case"kts":a=oe.windScaleDefMaxKts;break;case"km/h":a=oe.windScaleDefMaxKmh;break;case"m/s":a=oe.windScaleDefMaxMs}u.data.maxValue=a,u.gauge.setUnitString(me.windunit),u.gauge.setValue(0)}x&&x.setOdoTitle(le[Ia(me.windunit)])},ka=function(e){var a,t;if(o){switch(e){case"hPa":case"mb":a=oe.baroScaleDefMinhPa,t=oe.baroScaleDefMaxhPa,o.data.lcdDecimals=1,o.data.scaleDecimals=0,o.data.labelNumberFormat=oe.labelFormat;break;case"inHg":a=oe.baroScaleDefMininHg,t=oe.baroScaleDefMaxinHg,o.data.lcdDecimals=2,o.data.scaleDecimals=1,o.data.labelNumberFormat=steelseries.LabelNumberFormat.FRACTIONAL;break;case"kPa":a=oe.baroScaleDefMinkPa,t=oe.baroScaleDefMaxkPa,o.data.lcdDecimals=2,o.data.scaleDecimals=1,o.data.labelNumberFormat=steelseries.LabelNumberFormat.FRACTIONAL}me.pressunit=e,o.gauge.setUnitString(e),o.gauge.setLcdDecimals(o.data.lcdDecimals),o.gauge.setFractionalScaleDecimals(o.data.scaleDecimals),o.gauge.setLabelNumberFormat(o.data.labelNumberFormat),o.data.minValue=a,o.data.maxValue=t,o.data.value=o.data.minValue}},ya=function(e){S&&(e?(S.data.sections=Ne(!0),S.data.maxValue=oe.cloudScaleDefMaxm):(S.data.sections=Ne(!1),S.data.maxValue=oe.cloudScaleDefMaxft),S.data.value=0,S.gauge.setUnitString(e?le.metres:le.feet),S.gauge.setSection(S.data.sections))},Ia=function(e){var a;switch(e){case"mph":a="miles";break;case"kts":a="n_miles";break;case"km/h":case"m/s":default:a="km"}return a},Ca=function(e,a,t,i){var s=(e-t)*("C"===a[1]?400:227.3);return"m"===i&&(s=wa(s)),s},Ra=function(e){var a=Math.floor(.015*e);return{"box-shadow":a+"px "+a+"px "+a+"px "+oe.shadowColour,"border-radius":Math.floor(e/2)+"px"}},Fa=function(e,a,t){var i,s,n,l,r,o;return i=parseInt(e.substr(0,2),16),s=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16),l=parseInt(a.substr(0,2),16)-i,r=parseInt(a.substr(2,2),16)-s,o=parseInt(a.substr(4,2),16)-n,(i+l*t).toFixed(0)+","+(s+r*t).toFixed(0)+","+(n+o*t).toFixed(0)},Ua=function(e,a){return 0==+e?a:Math.ceil(+e/a)*a},Pa=function(e,a){return 0==+e?-a:Math.floor(+e/a)*a};return document.createElement("canvas").getContext?($(document).ready(function(){!function(e){switch(re.weatherProgram){case 0:d=12,re.realTimeURL=re.longPoll?re.realTimeUrlLongPoll:re.realTimeUrlCumulus,re.tipImgs=[["temp.png","intemp.png"],["temp.png","temp.png","temp.png","temp.png","temp.png"],"raint.png","rain.png",["hum.png","hum.png"],"press.png","wind.png","windd.png",re.showUvGauge?"uv.png":null,re.showSolarGauge?"solar.png":null,re.showRoseGauge?"windd.png":null,re.showCloudGauge?"press.png":null];break;case 1:d=14,re.realTimeURL=re.longPoll?re.realTimeUrlLongPoll:re.realTimeUrlWD,re.tipImgs=[["temp+hum_24hr.php","indoor_temp_24hr.php"],["temp+dew+hum_1hr.php","temp+dew+hum_1hr.php","temp+dew+hum_1hr.php","temp+dew+hum_1hr.php","temp+dew+hum_1hr.php"],"rain_24hr.php","rain_1hr.php",["humidity_1hr.php","humidity_7days.php"],"baro_24hr.php","windgust_1hr.php","winddir_24hr.php",re.showUvGauge?"uv_24hr.php":null,re.showSolarGauge?"solar_24hr.php":null,re.showRoseGauge?"winddir_24hr.php":null,re.showCloudGauge?"baro_24hr.php":null],$(".tipimg").css({width:"360px",height:"260px"});break;case 2:d=11,re.realTimeURL=re.longPoll?re.realTimeUrlLongPoll:re.realTimeUrlVWS,re.showRoseGauge=!1,re.showCloudGauge=!1,re.tipImgs=[["vws742.jpg","vws741.jpg"],["vws757.jpg","vws762.jpg","vws754.jpg","vws756.jpg",null],"vws744.jpg","vws859.jpg",["vws740.jpg","vws739.jpg"],"vws758.jpg","vws737.jpg","vws736.jpg",re.showUvGauge?"vws752.jpg":null,re.showSolarGauge?"vws753.jpg":null,re.showRoseGauge?"vws736.jpg":null,re.showCloudGauge?"vws758.jpg":null];break;case 3:d=14,re.realTimeURL=re.longPoll?re.realTimeUrlLongPoll:re.realTimeUrlWC,re.tipImgs=[["temperature1.jpg","tempin1.jpg"],["dewpoint1.jpg","temperature1.jpg","windchill1.jpg","heatindex1.jpg","temperature1.jpg"],"precipitationc1.jpg","precipitation1.jpg",["rh1.jpg","rhin1.jpg"],"pressure1.jpg","windspeed1.jpg","winddirection1.jpg",re.showUvGauge?"uv1.jpg":null,re.showSolarGauge?"solarrad1.jpg":null,re.showRoseGauge?"winddirection1.jpg":null,re.showCloudGauge?"cloudbase1.jpg":null];break;case 4:d=10,re.realTimeURL=re.longPoll?re.realTimeUrlLongPoll:re.realTimeUrlMB,re.showPopupGraphs=!1,re.showRoseGauge=!1,re.showCloudGauge=!1,re.tipImgs=null,re.showWindVariation=!1;break;case 5:d=11,re.realTimeURL=re.longPoll?re.realTimeUrlLongPoll:re.realTimeUrlWView,re.showSunshineLed=!1,re.showWindVariation=!1,re.showRoseGauge=!1,re.showCloudGauge=!1,re.tipImgs=[["tempdaycomp.png","indoor_temp.png"],["tempdaycomp.png","tempdaycomp.png","heatchillcomp.png","heatchillcomp.png","tempdaycomp.png"],"rainday.png","rainrate.png",["humidday.png","humidday.png"],"baromday.png","wspeeddaycomp.png","wdirday.png",re.showUvGauge?"uvday.png":null,re.showSolarGauge?"solarday.png":null,re.showRoseGauge?"windroseday.png":null,re.showCloudGauge?"baromday.png":null];break;case 6:d=14,re.realTimeURL=re.longPoll?re.realTimeUrlLongPoll:re.realTimeUrlWeewx,re.showSunshineLed=!0,re.showWindVariation=!0,re.tipImgs=[["dayinouttemp.png","dayinouttemp.png"],["dayouttemphum.png","dayouttemphum.png","dayouttemphum.png","dayouttemphum.png","dayouttemphum.png"],"dayrain.png","dayrainrate.png",["dayinouthum.png","dayinouthum.png"],"daybarometer.png","daywind.png","daywinddir.png",re.showUvGauge?"dayuv.png":null,re.showSolarGauge?"dayradiation.png":null,re.showRoseGauge?"daywindvec.png":null,re.showCloudGauge?"daybarometer.png":null];break;case 7:d=10,re.realTimeURL=re.realTimeUrlWLCOM,re.showPopupGraphs=!1,re.showRoseGauge=!1,re.showCloudGauge=!1,re.tipImgs=null,re.showWindVariation=!1;break;default:d=0,re.realtimeURL=null,re.showPopupGraphs=!1,re.tipImgs=null}$(window).width()<480?(re.gaugeScaling=re.gaugeMobileScaling,re.showPopupGraphs=re.mobileShowGraphs):re.gaugeScaling=1,null!==(be=xa("units"))?(de=!0,fa("rad_unitsTemp",be.temp),me.tempunit="°"+be.temp,fa("rad_unitsRain",be.rain),me.rainunit=be.rain,fa("rad_unitsPress",be.press),me.pressunit=be.press,fa("rad_unitsWind",be.wind),me.windunit=be.wind,be.windrun=Ia(me.windunit),fa("rad_unitsCloud",be.cloud),me.cloudunit=be.cloud):(be={temp:"C",rain:"mm",press:"hPa",wind:"km/h",windrun:"km",cloud:"m"},me.tempunit="°C",me.rainunit="mm",me.pressunit="hPa",me.windunit="km/h",me.cloudunit="m"),re.showPopupData&&(ddimgtooltip.showTips=re.showPopupData),re.showPopupGraphs&&(ddimgtooltip.tiparray[0][0]=null===re.tipImgs[0][0]?null:"",ddimgtooltip.tiparray[1][0]=null===re.tipImgs[1][0]?null:"",ddimgtooltip.tiparray[2][0]=null===re.tipImgs[2]?null:"",ddimgtooltip.tiparray[3][0]=null===re.tipImgs[3]?null:"",ddimgtooltip.tiparray[4][0]=null===re.tipImgs[4][0]?null:"",ddimgtooltip.tiparray[5][0]=null===re.tipImgs[5]?null:"",ddimgtooltip.tiparray[6][0]=null===re.tipImgs[6]?null:"",ddimgtooltip.tiparray[7][0]=null===re.tipImgs[7]?null:"",ddimgtooltip.tiparray[8][0]=null===re.tipImgs[8]?null:"",ddimgtooltip.tiparray[9][0]=null===re.tipImgs[9]?null:"",ddimgtooltip.tiparray[10][0]=null===re.tipImgs[10]?null:"",ddimgtooltip.tiparray[11][0]=null===re.tipImgs[11]?null:""),m=Se.getInstance(),c=xe.getInstance(),p=fe.getInstance(),(t=ve.getInstance())&&(gauges.doTemp=t.update),(s=Ve.getInstance())&&(gauges.doDew=s.update),(r=Me.getInstance())&&(gauges.doHum=r.update),o=De.getInstance(),u=Le.getInstance(),h=$e.getInstance(),n=Te.getInstance(),l=_e.getInstance(),re.showUvGauge?b=ye.getInstance():$("#canvas_uv").parent().remove(),re.showSolarGauge?w=Ie.getInstance():$("#canvas_solar").parent().remove(),re.showRoseGauge?x=ke.getInstance():$("#canvas_rose").parent().remove(),re.showCloudGauge?S=Ce.getInstance():($("#canvas_cloud").parent().remove(),$("#cloud").parent().remove()),changeLang(le,!1),e||(Re(),a=setInterval(function(){$.publish("gauges.clockTick",null)},1e3),0<re.pageUpdateLimit&&Ee("pageUpdate")!==re.pageUpdatePswd&&setTimeout(Ge,60*re.pageUpdateLimit*1e3))}(re.dashboardMode)}),{setLang:function(e){if(le=e,t&&($("#rad_temp1").is(":checked")?t.data.title=le.temp_title_out:t.data.title=le.temp_title_in,t.gauge.setTitleString(t.data.title),me.ver&&t.update()),s){switch($('input[name="rad_dew"]:checked').val()){case"dew":s.data.title=le.dew_title;break;case"app":s.data.title=le.apptemp_title;break;case"wnd":s.data.title=le.chill_title;break;case"hea":s.data.title=le.heat_title;break;case"hum":s.data.title=le.humdx_title}s.gauge.setTitleString(s.data.title),me.ver&&s.update()}n&&(n.data.title=le.rain_title,n.gauge.setTitleString(n.data.title),me.ver&&n.update()),l&&(l.data.title=le.rrate_title,l.gauge.setTitleString(l.data.title),me.ver&&l.update()),r&&($("#rad_hum1").is(":checked")?r.data.title=le.hum_title_out:r.data.title=le.hum_title_in,r.gauge.setTitleString(r.data.title),me.ver&&r.update()),o&&(o.data.title=le.baro_title,o.gauge.setTitleString(o.data.title),me.ver&&o.update()),u&&(u.data.title=le.wind_title,u.gauge.setTitleString(u.data.title),me.ver&&u.update()),h&&(h.gauge.setPointSymbols(le.compass),h.data.titles=[le.latest_web,le.tenminavg_web],h.gauge.setLcdTitleStrings(h.data.titles),me.ver&&h.update()),b&&(b.gauge.setTitleString(le.uv_title),me.ver&&b.update()),w&&(w.gauge.setTitleString(le.solar_title),me.ver&&w.update()),x&&(x.setTitle(le.windrose),x.setCompassStrings(le.compass),x.setOdoTitle(le[Ia(be.wind)]),me.ver&&x.update()),S&&(S.data.units="m"===me.cloudunit?le.metres:le.feet,S.gauge.setTitleString(le.cloudbase_title),S.gauge.setUnitString(S.data.units),me.ver&&S.update())},setUnits:function(e){var a=e.value;switch(de=!0,a){case"C":be.temp=a,me.tempunit[1]!==a&&(Da(!0),va(qe),t&&t.update(),s&&s.update());break;case"F":be.temp=a,me.tempunit[1]!==a&&(Da(!1),va(Ze),t&&t.update(),s&&s.update());break;case"mm":be.rain=a,me.rainunit!==a&&(La(!0),Va(ra),n&&n.update(),l&&l.update());break;case"in":be.rain=a,me.rainunit!==a&&(La(!1),Va(la),n&&n.update(),l&&l.update());break;case"hPa":case"inHg":case"mb":case"kPa":be.press=a,me.pressunit!==a&&(_a(me.pressunit,a),ka(a),o&&o.update());break;case"mph":case"kts":case"m/s":case"km/h":be.wind=a,me.windunit!==a&&(Ta(me.windunit,a),$a(a),u&&u.update(),h&&h.update(),x&&x.update());break;case"m":be.cloud=a,me.cloudbaseunit!==a&&(ya(!0),Ma(wa),S&&S.update());break;case"ft":be.cloud=a,me.cloudbaseunit!==a&&(ya(!1),Ma(ba),S&&S.update())}re.useCookies&&Sa("units",be)},processData:Pe}):($("body").html(le.canvasnosupport),setTimeout(function(){window.location=re.oldGauges},3e3),!1)}(),ddimgtooltip={tiparray:function(){for(var e={background:"#FFFFFF",color:"black",border:"2px ridge darkblue"},a=12,t=[];a--;)t[a]=[null," ",e];return t}(),tooltipoffsets:[20,-30],tipDelay:1e3,delayTimer:0,tipprefix:"imgtip",createtip:function(e,a,t){return 0===e("#"+a).length?e('<div id="'+a+'" class="ddimgtooltip" />').html((t[1]?'<div class="tipinfo" id="'+a+'_txt">'+t[1]+"</div>":"")+(null!==t[0]?'<div style="text-align:center"><img class="tipimg" id="'+a+'_img" src="'+t[0]+'" /></div>':"")).css(t[2]||{}).appendTo(document.body):null},positiontooltip:function(e,a,t){var i=t.pageX+this.tooltipoffsets[0],s=t.pageY+this.tooltipoffsets[1],n=a.outerWidth(),l=a.outerHeight(),r=e(window).width(),o=e(window).height(),u=e(document).scrollTop();i=i+n>e(document).scrollLeft()+r?i-n-2*ddimgtooltip.tooltipoffsets[0]:i,s=u+o<s+l?u+o-l-10:s,i=Math.max(i,0),r<=n&&(e(a.attr("id")+"_img").css({width:r-20}),e("#"+a.attr("id")+"_img").css({width:r-20}),s=t.pageY+5),a.css({left:i,top:s})},delaybox:function(e,a){this.showTips&&(ddimgtooltip.delayTimer=setTimeout(function(){ddimgtooltip.showbox(a)},ddimgtooltip.tipDelay))},showbox:function(e){this.showTips&&$(e).fadeIn()},hidebox:function(e,a){clearTimeout(ddimgtooltip.delayTimer),a.fadeOut()},showTips:!1,init:function(e){var n=ddimgtooltip.tiparray,a=$(e);0!==a.length&&a.each(function(){var e,a,t,i=$(this),s=(i.attr("id").match(/_(\d+)/)||[])[1]||"";e=parseInt(s,10),a=this.tipid=ddimgtooltip.tipprefix+e,t=ddimgtooltip.createtip($,a,n[e]),i.mouseenter(function(e){var a=$("#"+this.tipid);ddimgtooltip.delaybox($,a,e)}),i.mouseleave(function(){var e=$("#"+this.tipid);ddimgtooltip.hidebox($,e)}),i.mousemove(function(e){var a=$("#"+this.tipid);ddimgtooltip.positiontooltip($,a,e)}),t&&t.mouseenter(function(){ddimgtooltip.hidebox($,$(this))})})}},String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};